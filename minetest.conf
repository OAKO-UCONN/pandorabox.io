# configuration file for minetestserver


server_name = Pandorabox

#https://forum.minetest.net/viewtopic.php?f=14&t=18951
enable_remote_media_server = true
remote_media = https://pandorabox.io/media/
#remote_media = http://minetestmedia.foo-projects.org/

easyvend_currency = currency:minegeld

throwing.enable_arrow = true
throwing.enable_golden_arrow = true
throwing.enable_fire_arrow = true
throwing.enable_teleport_arrow = true
throwing.enable_dig_arrow = true
throwing.enable_dig_arrow_admin = false
throwing.enable_build_arrow = false

throwing.arrow_teleport_in_protected = false

telemosaic_teleport_delay = 1
telemosaic_extender_two_range = 200
telemosaic_extender_three_range = 5000
telemosaic_right_click_teleport = true

sprint = true
sprint_particles = true

# pvp areas https://github.com/everamzah/pvp_areas
pvp_areas.safemode = true

biomelib.disable = true
#biome_lib_queue_run_ratio = 25

areas.self_protection = true
areas.self_protection_privilege = areas_protect
areas.self_protection_max_areas = 1000
areas.self_protection_max_areas_high = 1500

bridger_enable_trusses = true
pipeworks_max_items_per_tube = 60

unified_inventory_plus.enable_craft_all = false
currency.income_enabled = false
prefab.electric_fence_damage = 2
xp.enable_death_malus = false

secure.http_mods = monitoring,mail,mapserver,auth_proxy_mod,digistuff,geoip,beerchat_web

beerchat.url = http://beerchat-proxy:8080

geoip.url = http://geoip:5000

digtron_size_limit = 75
digtron_cycle_time = 1.0

mapserver.url = http://mapserver:8080
mapserver.enable_crafting = true

webmail.url = http://webmail:8080

auth_proxy.url = http://auth-proxy:8080

poshud.hud.offsetx = 0.05
poshud.hud.offsety = 0.8
poshud.mapblock.enable = true

#mesecon.actionqueue_timing_log = true
# old setting
mesecon.luacontroller_nodetimer = true
# new setting
mesecon.luacontroller_lightweight_interrupts = true
mesecon.overheat_max = 6
mesecon.max_executetime = 0.05
mesecon.max_actions = 5000

technic.switch_max_range = 512
curl_timeout = 10000

moreblocks.stairsplus_in_creative_inventory = false

prometheus_bind_address=0.0.0.0:8080
#monitoring.prometheus_push_url = http://pushgateway:9091/metrics/job/minetest/instance/pandorabox
monitoring.prometheus_push_url = https://monitoring.minetest.land/push/metrics/job/minetest/instance/pandorabox.io

give_initial_stuff = true
initial_stuff = default:pick_steel,default:torch 50,currency:minegeld 50,default:apple 99

protector_pvp = true
#protector_flip = true
#only_peaceful_mobs = true

debug_log_size_max = 0

server_description = Pandorabox (offical homepage/forum/map: https://pandorabox.io)
server_address = pandorabox.io
server_url = https://pandorabox.io
server_announce = true

serverlist_url = servers.minetest.net

port = 30000

max_simultaneous_block_sends_server_total = 400
full_block_send_enable_min_time_from_building = 6.0
receive_iterations_per_step = 150

## Game

default_game = minetest
motd = Welcome to the Pandorabox server (official homepage/map/forum: https://pandorabox.io)
max_users = 30
map-dir = /minetest/world
item_entity_ttl = 300
enable_damage = true
creative_mode = false

default_privs = interact, shout, zoom
basic_privs = interact, shout, zoom, protect_streets, protect_rails, protect_public_places, protect_public_infrastructure, protect_technic_city_infra, areas_protect, areas_high_limit, softlimit_bypass, geoip, no_announce, ban, kick

player_transfer_distance = 300

enable_pvp = true
enable_tnt = false
#static_spawnpoint = -1657,156,694
static_spawnpoint = 600,107,1909

disallow_empty_password = true
disable_anticheat = true

ask_reconnect_on_crash = true
active_object_send_range_blocks = 2
active_block_range = 1
max_block_send_distance = 10
block_send_optimize_distance = 10
max_forceloaded_blocks = 1000
server_map_save_interval = 15.3

server_cloak.threshold = 20
server_unload_unused_data_timeout = 300

dedicated_server_step = 0.1

nodetimer_interval = 0.5

mg_name = v7

max_block_generate_distance = 1
mg_flags = caves,dungeons,light,decorations

num_emerge_threads = 1

mgv7_spflags = mountains,ridges,caverns

#profiler.load = true

name = admin

debug_log_level = action

# stuff?
selected_world_path = /home/thomas/.minetest/worlds/test
menu_last_game = minetest
mainmenu_last_selected_world = 1
maintab_LAST = local
